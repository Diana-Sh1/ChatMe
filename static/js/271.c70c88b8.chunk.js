"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[271],{4271:function(e,s,a){a.r(s),a.d(s,{default:function(){return f}});var r=a(9439),n=a(2791),t={pic:"ChatPage_pic__5XMob",content:"ChatPage_content__O9qV0",wrapper:"ChatPage_wrapper__qLTEC",messages:"ChatPage_messages__fwl3z",message_wrapper:"ChatPage_message_wrapper__wmN2P",textarea:"ChatPage_textarea__Bia0n",btn_wrapper:"ChatPage_btn_wrapper__l2btZ",message_item:"ChatPage_message_item__SKUsX",person_info:"ChatPage_person_info__hDg2i"},c=a(3531),i=a(7204),u=a(7766),o=a(7689),_=a(184),l=function(){var e=(0,c.I0)(),s=(0,c.v9)((function(e){return e.chat.status}));return(0,n.useEffect)((function(){return e((0,i.WE)()),function(){e((0,i.R7)())}}),[]),(0,_.jsx)("div",{className:t.wrapper,children:"error"===s?(0,_.jsx)("div",{children:"Some error occured. Please refresh the page."}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m,{}),(0,_.jsx)(p,{})]})})},m=function(){var e=(0,n.useRef)(null),s=(0,c.v9)((function(e){return e.chat.messages})),a=(0,n.useState)(!0),i=(0,r.Z)(a,2),u=i[0];i[1];return(0,n.useEffect)((function(){var s;u&&(null===(s=e.current)||void 0===s||s.scrollIntoView({behavior:"smooth"}))}),[s]),(0,_.jsxs)("div",{className:t.messages,children:[s.map((function(e,s){return(0,_.jsx)(h,{message:e},s)})),(0,_.jsx)("div",{ref:e})]})},h=function(e){var s=e.message;return(0,_.jsxs)("div",{className:t.message_item,children:[(0,_.jsxs)("div",{className:t.person_info,children:[(0,_.jsx)("img",{className:t.pic,src:s.photo}),(0,_.jsx)("b",{className:t.username,children:s.userName})]}),(0,_.jsx)("div",{className:t.text,children:s.message})]})},p=function(){var e=(0,n.useState)(""),s=(0,r.Z)(e,2),a=s[0],o=s[1],l=((0,c.v9)((function(e){return e.chat.status})),(0,c.I0)());return(0,_.jsx)("div",{className:t.messages,children:(0,_.jsxs)("div",{className:t.message_wrapper,children:[(0,_.jsx)("textarea",{className:t.textarea,onChange:function(e){return o(e.currentTarget.value)},value:a}),(0,_.jsx)("div",{className:t.btn_wrapper,onClick:function(){a&&(l((0,i.bG)(a)),o(""))},children:(0,_.jsx)(u.Z,{})})]})})},f=function(){var e=(0,o.s0)(),s=(0,o.UO)();return(0,n.useEffect)((function(){s.userId||e("/login")}),[]),(0,_.jsx)("div",{className:t.content,children:(0,_.jsx)(l,{})})}}}]);
//# sourceMappingURL=271.c70c88b8.chunk.js.map