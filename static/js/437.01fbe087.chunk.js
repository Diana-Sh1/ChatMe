"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[437],{7437:function(e,n,s){s.r(n),s.d(n,{default:function(){return B}});var r=s(3531),t=s(2791),i=s(3864),l=function(e){return e.usersPage.users},a=function(e){return e.usersPage.pageSize},o=function(e){return e.usersPage.totalItemsCount},u=function(e){return e.usersPage.currentPage},c=function(e){return e.usersPage.isFetching},f=function(e){return e.usersPage.followingInProgress},d=function(e){return e.usersPage.filter},m=s(1413),_=s(3433),h=s(9439),g="Users_content__eVkcM",j="Users_inner__79Gij",x="Users_user_logo__xncyl",v="Users_title__605GK",p="Users_block_main__MgENi",b="Users_block_buttons__ZEmQi",N="Users_user_info__TBDOm",U="Users_status_info__kBCoF",P="Users_subscribe_btn__u3aDb",k="Users_pagination__S-sSj",Z="Users_form_wrapper__xJUx+",w="Users_input__-PUnQ",C="Users_select__Gdjtl",S="Users_btn__VOkk+",F="Paginator_selectedPage__CRNLp",I=s(184),D=function(e){for(var n=e.currentPage,s=e.onPageChanged,r=e.totalItemsCount,i=e.pageSize,l=e.portionSize,a=void 0===l?8:l,o=Math.ceil(r/i),u=[],c=1;c<=o;c++)u.push(c);var f=Math.ceil(o/a),d=(0,t.useState)(1),m=(0,h.Z)(d,2),_=m[0],g=m[1],j=(_-1)*a+1,x=_*a;return(0,I.jsxs)(I.Fragment,{children:[_>1&&(0,I.jsx)("button",{onClick:function(){g(_-1)},children:"\u2190"}),u.filter((function(e){return e>=j&&e<=x})).map((function(e){return(0,I.jsx)("span",{onClick:function(){s(e)},className:n===e?F:"",children:e},e)})),f>_&&(0,I.jsx)("button",{onClick:function(){g(_+1)},children:"\u2192"})]})},E=s(1087),y=s(2389),z=function(e){var n=e.user,s=e.followingInProgress,r=e.unfollow,t=e.follow;return(0,I.jsxs)("div",{className:j,children:[(0,I.jsx)("div",{className:x,children:(0,I.jsx)(E.OL,{to:"/profile/"+n.id,children:(0,I.jsx)("img",{src:null!=n.photos.small?n.photos.small:y,alt:""})})}),(0,I.jsxs)("div",{className:p,children:[(0,I.jsx)("div",{className:N,children:n.name}),(0,I.jsx)("div",{className:U,children:n.status})]}),(0,I.jsx)("div",{className:b,children:n.followed?(0,I.jsx)("button",{disabled:s.some((function(e){return e===n.id})),onClick:function(){r(n.id)},className:P,children:"Unfollow"}):(0,I.jsx)("button",{disabled:s.some((function(e){return e===n.id})),onClick:function(){t(n.id)},className:P,children:"Follow"})})]})},M=s(9195),O=t.memo((function(e){var n=(0,r.v9)(d),s=(0,M.cI)({mode:"onSubmit"}),t=s.register,i=s.handleSubmit;return(0,I.jsx)("div",{className:Z,children:(0,I.jsxs)("form",{onSubmit:i((function(n){var s={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e.onFilterChanged(s)})),children:[(0,I.jsx)("input",(0,m.Z)({defaultValue:n.term,className:w},t("term"))),(0,I.jsxs)("select",(0,m.Z)((0,m.Z)({className:C},t("friend")),{},{children:[(0,I.jsx)("option",{value:"null",children:"All"}),(0,I.jsx)("option",{value:"true",children:"Followed"}),(0,I.jsx)("option",{value:"false",children:"Unfollowed"})]})),(0,I.jsx)("input",{type:"submit",value:"Find",className:S})]})})})),G=s(8331),L=s(7689),V=function(){var e=(0,r.v9)(l),n=(0,r.v9)(o),s=(0,r.v9)(u),i=(0,r.v9)(a),c=(0,r.v9)(d),j=(0,r.v9)(f),x=(0,r.I0)(),p=(0,L.s0)(),b=(0,L.TH)(),N=(0,E.lr)(b.search),U=(0,h.Z)(N,1)[0];(0,t.useEffect)((function(){var e=Object.fromEntries((0,_.Z)(U)),n=s,r=c;switch(e.page&&(n=Number(e.page)),e.term&&(r=(0,m.Z)((0,m.Z)({},r),{},{term:e.term})),e.friend){case"null":r=(0,m.Z)((0,m.Z)({},r),{},{friend:null});break;case"true":r=(0,m.Z)((0,m.Z)({},r),{},{friend:!0});break;case"false":r=(0,m.Z)((0,m.Z)({},r),{},{friend:!1})}x((0,G.D7)(n,i,r))}),[]),(0,t.useEffect)((function(){p({pathname:"/users",search:"?term=".concat(c.term,"&friend=").concat(c.friend,"&page=").concat(s)})}),[c,s]);var P=function(e){x((0,G.ZN)(e))},Z=function(e){x((0,G.fv)(e))};return(0,I.jsxs)("div",{className:g,children:[(0,I.jsx)("h2",{className:v,children:"List of Users"}),(0,I.jsx)("div",{className:k,children:(0,I.jsx)(D,{currentPage:s,onPageChanged:function(e){x((0,G.D7)(e,i,c))},totalItemsCount:n,pageSize:i})}),(0,I.jsx)("div",{children:(0,I.jsx)(O,{onFilterChanged:function(e){x((0,G.D7)(1,i,e))}})}),e.map((function(e){return(0,I.jsx)(z,{user:e,followingInProgress:j,unfollow:Z,follow:P},e.id)}))]})},B=function(){var e=(0,r.v9)(c);return(0,I.jsxs)(I.Fragment,{children:[e?(0,I.jsx)(i.Z,{}):null,(0,I.jsx)(V,{})]})}}}]);
//# sourceMappingURL=437.01fbe087.chunk.js.map